<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script src="./MayBe.js"></script>
    <script>
        let employees = {
            1 : {
                id : 1, 
                name : "Emp1",
            },
            2 : {
                id : 2,
                name : "Emp2",
                supervisor : 1,
            },
            3 : {
                id : 3,
                name : "Emp3",
                supervisor : 1,
            },
            4 : {
                id : 4,
                name : "Emp4",
                supervisor : 2,
            },
        };
        /*
        let getSuperVisorName = id => 
        {
            let emp = employees[id];
            if(emp)
            {
                let supervisorId = emp.supervisor;
                if(supervisorId)
                {
                    let supervisor = employees[supervisorId];
                    return supervisor;
                }
                else 
                {
                    return null;
                }
            }
            else 
            {
                return null;
            }
        }
        */
        const getEmployee = id => employees[id];
        const getSuperVisorId = employee => employee.supervisor;

        const result = MayBe.of(1)
                            .map(getEmployee)
                            .map(getSuperVisorId)
                            .map(getEmployee);
        console.log("result => ", result);
    </script>
</body>
</html>